{% extends 'base.html.twig' %}

{% block body %}
{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/recette.css') }}">

{% endblock %}
    <article>
        <h2>{{ recette.title }}</h2>
        <div class="metadata">Ajouter le {{ recette.createdAt | date ('d/m/y') }} à {{ recette.createdAt | date('H:i') }} dans la catégorie Recette Salées</div>
        <div class="content"></div>
        <img src="{{ vich_uploader_asset(recette, 'imageFile') | imagine_filter('medium') }}" alt="card-img-top">
        {{ recette.content | raw }}

    </article>
    <div id="likes">
        <span>{{ recette.likes }}</span>
        <button class="btn btn-primary" data-id="{{ recette.id }}">
            <i class="fas fa-heart"></i>
        </button>
    </div>
    
    <h4>Ajouter un commentaire</h4>
    {{ form_start(commentForm, {'attr': {'class': 'commentForm'}}) }}
    
    {{ form_widget(commentForm, {'attr': {'class': 'foo'}}) }}
    {{ form_widget(commentForm.content, {'attr': {'class': 'commentForm.content'}}) }}
    {{ form_errors(commentForm.content, {'attr': {'class': 'errors'}}) }}
    <input type="submit" value="Publier" class="btn btn-success btn-sm">
    {{ form_end(commentForm) }}

<h3>Commentaires</h3>
    {% for comment in recette.comments %}
        <div class="ob-Commentaires">
            <div class="ob-list">
            {{comment.nom}}
            {{comment.prenom}}
            {{comment.content}}
            </div>
        </div>
    {% endfor %}

{% endblock %}
{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/ajax-article-likes.js') }}"></script>
{% endblock %}